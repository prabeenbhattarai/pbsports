<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0 , user-scalable=no">
    <meta name="viewport" content="width=device-width" />
    <title>pbsports : Live anytime, anywhere</title>

    <meta name="author" content="pbsports" />
    <meta name="designer" content="pbsports : Live anytime, anywhere " />
    <meta name="description" content="pbsports : Live anytime, anywhere">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.2/plyr.css" />
    <link rel="stylesheet" href="/dist/wmlogo.css" />
    <script src="https://kit.fontawesome.com/bf2610f0a2.js" crossorigin="anonymous"></script>
    <!-- Halfmoon CSS -->
    <link href="https://cdn.jsdelivr.net/gh/halfmoonui/halfmoon@1.0.4/css/halfmoon.min.css" rel="stylesheet" />

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://cdn.plyr.io/3.6.2/plyr.polyfilled.js"></script>

    <style>
       #container {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #8a0000;
            color: #fff;
            overflow: hidden;
            position: relative; /* Ensure the logo is positioned relative to this container */
        }
        #iframe, #jwPlayer {
            height: 100vh !important;
            padding: 0;
            margin: 0;
            width: 100%;
        }
        body {
            height: 100vh;
            margin: 0;
            padding: 0;
        }
        video {
            outline: 0;
        }
        #text {
            position: fixed;
            border: 0;
            left: 0;
            width: 100%;
            color: #fff;
            bottom: 50px;
            text-align: center;
            font-family: tahoma;
            font-size: 20px;
            z-index: 9999;
        }
        .video-js {
            width: 100%;
            height: 100%;
        }
        body {
            text-align: center;
            margin: 0px;
        }
        #videojs {
            width: 100%;
            height: 100%;
        }
        .streaming-dimensions {
            width: 100% !important;
            height: 100% !important;
        }
        #logo {
            position: absolute;
            top: 25px; /* Adjust as needed */
            right: 50px; /* Adjust as needed */
            width: 70px; /* Medium size */
            z-index: 1000; /* Ensure it appears above the iframe */
            pointer-events: none; /* Make the logo non-clickable */
        }
    </style>
 <script>
        function getParam(sname) {
            var params = location.search.substr(location.search.indexOf("?") + 1);
            var sval = params.replace("url=", "");
            return sval;
        }
        var sv = getParam("sv");

        $(document).ready(function() {
            $("img").on("contextmenu", function() {
                return false;
            });

            // Handle fullscreen changes
            document.addEventListener('fullscreenchange', toggleLogoFullscreen);
            document.addEventListener('webkitfullscreenchange', toggleLogoFullscreen);
            document.addEventListener('mozfullscreenchange', toggleLogoFullscreen);
            document.addEventListener('MSFullscreenChange', toggleLogoFullscreen);
        });

        function toggleLogoFullscreen() {
            const logo = document.getElementById('logo');
            if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) {
                const fullscreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                fullscreenElement.appendChild(logo);
            } else {
                document.getElementById('container').appendChild(logo);
            }
        }
    </script>
</head>
<body>
    <div id="container">
        <img id="logo" src="https://prabeenbhattarai.github.io/pbsports/logo1.png" alt="Logo">
        <iframe id="iframe" allowfullscreen="allowfullscreen" allowtransparency="true" frameborder="5" height="100%" marginheight="0" marginwidth="0" sandbox="allow-forms allow-pointer-lock allow-same-origin allow-scripts allow-top-navigation" width="100%"></iframe>
        <div id="jwPlayer"></div>
        <div id="jwplayers"></div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const e = document.querySelector("video"),
                n = e.getElementsByTagName("source")[0].src,
                o = {};
            if (Hls.isSupported()) {
                var config = {
                    maxMaxBufferLength: 100,
                };
                const t = new Hls(config);
                t.loadSource(n), t.on(Hls.Events.MANIFEST_PARSED, function (n, l) {
                    const s = t.levels.map(e => e.height);
                    o.quality = {
                        default: s[0],
                        options: s,
                        forced: !0,
                        onChange: e => (function (e) {
                            window.hls.levels.forEach((n, o) => {
                                n.height === e && (window.hls.currentLevel = o)
                            })
                        })(e)
                    };
                    new Plyr(e, o)
                }), t.attachMedia(e), window.hls = t
            } else {
                new Plyr(e, o)
            }
        });

        // Function to get URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Get video URL parameter and set it as the video source
        var videoUrl = getParameterByName('url');
        if (videoUrl) {
            document.getElementById('videoSource').setAttribute('src', videoUrl);
            document.getElementById('player').load();
        }
    </script>
</body>
</html>
